// main: ../../main.scss

@import "../../_utils/vars";
@import "../../_utils/mixins";

@mixin reddit {
  position: absolute;
  left: em(70, 16);
  // margin-right: 1em;
  // padding-top: em(16, 12);
  content: "reddit";
  color: $light-secondary-text;
  font-weight: bold;
  line-height: em(60, 16);
  text-indent: 0;
  @include transition-default;
}

@mixin tabs {
  display: inline-block;
  // height: em(60, 16);
  border-bottom: em(2, 16) solid transparent;
  padding: 0 em(16, 16);
  color: $light-secondary-text;
  font-weight: normal;
  background: transparent radial-gradient(circle, rgba($accent, .25) 15%, transparent 30%) no-repeat 50% 50% / 0; // color image repeat position size
  @include transition(background 0.35s cubic-bezier(.64, .09, .08, 1), border-bottom .5s ease-out, color .5s ease-out);

  &:focus {
    outline: 0;
    background-size: 1000%;
  }
}

// header image, pagename, tabmenu
#header-bottom-left {
  font-size: em(16, 10);
  height: em(60, 16);
  position: absolute;
  top: em(140, 16);

  // reduces reddit.com header to just snoo image
  #header-img {
    background: url(%%snoo-color%%) no-repeat;
    height: em(60, 16);
    width: 0;
    margin: 0;
    padding-right: em(60, 16);
    @include transition-default;
  }

  // positioning fix for when reddit pushes custom banner image
  #header-img-a {

    ~ .pagename {
      display: inline-block;
      line-height: 60px; // since font-size is 0
    }

    ~ .tabmenu {
      display: inline-block;
      height: em(65, 16);
    }
  }

  // subreddit name
  .pagename {
    font-size: 0;

    a {
      position: relative;
      display: inline-block;
      height: em(60, 16);
      padding: 0 em(16, 16);
      font-size: 16px; // b/c parent font-size is 0
      font-variant: normal;
      color: $light-secondary-text;
      line-height: em(60, 16);
      text-transform: lowercase;
      @include transition-default;

      &:hover {
        color: $light-text;
        text-decoration: none;
      }
    }
  }

  // tabmenu
  .tabmenu {
    // position: relative;
    // top: em(-19, 16);
    height: em(60, 16);
    @include margin(0 null null null);
    font-size: inherit;
    line-height: em(60, 16);

    li.selected a {
      @include border-width(0 0 em(2, 16) 0);
      @include border-color(null null $accent null);
    }

    li {
      margin: 0;

      &:hover a {
        color: $light-text;

        &:after {
          border-bottom: em(2, 16) solid $accent;
        }
      }

      a {
        font-size: 0;
        @include tabs;

        // hides "rising", "controversial", "ads", and "gilded" tabs
        &[href$="/rising/"],
        &[href$="/controversial/"],
        &[href$="/ads/"],
        &[href$="/gilded/"] {
          display: none;
        }

        // shortens visible tabs
        &[href$="/flattishtest/"]:after {
          content: "h";
        }

        &[href$="/new/"]:after {
          content: "n";
        }

        &[href$="/top/"]:after {
          content: "t";
        }

        &[href$="/wiki/"]:after {
          content: "w";
        }

        // style visible tabs
        &[href$="/flattishtest/"],
        &[href$="/new/"],
        &[href$="/top/"],
        &[href$="/wiki/"] {

          &:after {
            font-size: initial;
            @include tabs;
          }

          &:hover:after {
            color: $light-text;
            border-bottom: em(2, 16) solid $accent;
          }
        }
      }

      a#viewImagesButton {

        &:after {
          content: "vi";
          font-size: initial;
          @include tabs;
        }

        &:hover:after {
          color: $light-text;
          border-bottom: em(2, 16) solid $accent;
        }
      }
    }
  }
}

@media (min-width: $screen-xs-min) {
  #header-bottom-left {

    .tabmenu li {

      &:hover a,
      &:hover a[href$="/flattishtest/"],
      &:hover a[href$="/new/"],
      &:hover a[href$="/top/"],
      &:hover a[href$="/wiki/"] {
        color: $light-text;
        border-bottom: em(2, 16) solid $accent;
      }

      a#viewImagesButton {

        &:after {
          content: "vi";
          font-size: initial;
          @include tabs;
        }

        &:hover:after {
          color: $light-text;
        }
      }

      a[href$="/flattishtest/"],
      a[href$="/new/"],
      a[href$="/top/"],
      a[href$="/wiki/"] {
        color: $light-secondary-text;
        font-size: 1em;

        &:after {
          display: none;
        }
      }
    }
  }
}

@media (min-width: $screen-sm-min) {
  #header-bottom-left {
    // left: 0;

    #header-img {
      // makes space for "reddit" text
      padding-right: em(131, 16);

      &:after {
        @include reddit;
      }

      &:hover:after {
        color: $light-text;
      }
    }

    // fix for when reddit pushes a different header image
    #header-img-a {

      &:after {
        @include reddit;
      }

      &:hover:after {
        color: $light-text;
      }
    }

    .tabmenu li {

      a[href$="/flattishtest/"] {
        width: 0;
        padding: 0;
        margin: 0 38px 0 16px;
        @include transition-default; // edit this value

        &:hover {
          width: 22px;
          padding: 0 16px;
          margin: 0;
        }
      }

      &:hover a {
        color: $light-text;
        border-bottom: em(2, 16) solid $accent;
      }

      a {
        color: $light-secondary-text;
        font-size: 1em;

        &:after {
          display: none;
        }

        &#viewImagesButton:after {
          display: none;
        }
      }
    }
  }
}