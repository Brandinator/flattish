// main: ../../main.scss

@import "../../_utils/vars";
@import "../../_utils/mixins";

@mixin tabs {
  display: inline-block;

  padding: 0;
  width: 0;

  color: $light-secondary-text;
  font-weight: bold;
  text-transform: uppercase;

  background: transparent radial-gradient(circle, rgba($accent, .25) 15%, transparent 30%) no-repeat 50% 50% / 0; // color image repeat position size
  border-bottom: em(2, 14) solid transparent;
  @include transition(background 0.3s cubic-bezier(0, 0, .2, 1), color .5s ease-out, border-bottom .25s ease-out, width 0.2s cubic-bezier(0.4, 0.0, 0.4, 1), margin 0.2s cubic-bezier(0.4, 0.0, 0.4, 1), padding 0.2s cubic-bezier(0.4, 0.0, 0.4, 1));

  &:focus {
    outline: 0;
    background-size: 1000%;
  }

  &:hover {
    margin: 0;
    padding: 0 em(24, 14);
    color: $light-text;
    border-bottom: em(2, 14) solid $accent;
  }
}

// header image, pagename, tabmenu
#header-bottom-left {
  position: absolute;
  top: em(106, 14);
  height: em(53, 14);
  font-size: em(14, 10);

  // nested to avoid body:link styling
  .pagename {
    a { color: $light-secondary-text; }

    &:hover a { color: $light-text; }
  }
}

// snooface
#header-img,
#header-img.default-header {
  height: em(53, 14);
  width: 0;

  @include margin(0 0 0 em(40, 16));
  padding-right: em(35, 14); // makes space for snoo visibility

  background: url(%%snoo-color%%) no-repeat;
  @include transition-default;
}

// positioning fix for when reddit pushes custom banner image
#header-img-a ~ .pagename {
  position: relative;
  top: em(-4, 16);
  display: inline-block;
}

// subreddit name
.pagename {
  margin: 0;
  font-size: em(16, 14);

  a {
    position: relative;

    display: inline-block;
    height: em(53, 16);
    padding: 0 em(16, 16);

    font-variant: normal;
    line-height: em(53, 16);
    text-transform: lowercase;

    @include transition-default;

    &:hover {
      color: $light-text;
      text-decoration: none;
    }
  }
}

// tabmenu
.tabmenu {
  position: absolute;
  left: 0;
  top: em(53, 14);

  height: em(64, 14);
  width: 100vw; // fuck IE8 support
  margin-top: 0;
  padding-left: em(16, 16);

  font-size: inherit;
  line-height: em(64, 14);

  li {
    margin: 0;

    // hides "rising", "controversial", "ads", and "gilded" tabs
    @each $hidden-tab in rising, controversial, ads, gilded {
      a[href$="/#{$hidden-tab}/"] {
        display: none;
      }
    }

    // styles visible tabs
    a[href$="/flattish/"],
    a[href$="/new/"],
    a[href$="/top/"],
    a[href$="/wiki/"],
    #viewImagesButton { @include tabs; }

    @each $tab-button, $right-margin in (
      flattish: em(47, 14),
      new: em(56, 14), top: em(52, 14),
      wiki: em(55, 14)
    ) {
      a[href$="/#{$tab-button}/"] {
        @include margin(null $right-margin null em(24, 14));
      }
    }

    @each $tab-button, $width in (
      flattish: em(31, 14),
      new: em(32, 14), top: em(28, 14),
      wiki: em(31, 14)
    ) {
      a[href$="/#{$tab-button}/"]:hover {
        width: $width;
      }
    }

    // RES view images button
    #viewImagesButton {
      @include margin(null em(140, 14) null em(24, 14));

      &:hover { width: em(116, 14); }
    }

    // ensures selected tab remains unchanged
    &.selected a {
      width: initial;
      margin: 0;
      padding: 0 em(24, 14);
      border-bottom-color: $accent;
      @include border-width(0 0 em(2, 14) 0);

      &:hover { width: initial; }
    }
  }
}