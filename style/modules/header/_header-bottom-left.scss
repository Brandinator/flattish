// main: ../../main.scss

@import "../../_utils/vars";
@import "../../_utils/mixins";

@mixin reddit {
  position: absolute;
  left: em(70, 16);

  content: "reddit";
  color: $light-secondary-text;
  font-size: em(16, 14);
  font-weight: bold;
  line-height: em(53, 16);
  text-indent: 0;

  @include transition-default;
}

@mixin tabs {
  display: inline-block;

  // height: em(53, 16);
  padding: 0 em(24, 14);

  color: $light-secondary-text;
  font-weight: bold;
  text-transform: uppercase;

  background: transparent radial-gradient(circle, rgba($accent, .25) 15%, transparent 30%) no-repeat 50% 50% / 0; // color image repeat position size
  border-bottom: em(2, 16) solid transparent;
  @include transition(background 0.35s cubic-bezier(.64, .09, .08, 1), border-bottom .5s ease-out, color .5s ease-out);

  &:focus {
    outline: 0;
    background-size: 1000%;
  }
}

@mixin tab-button {
  padding: 0;
  width: 0;
  @include transition-default;

  &:hover {
    margin: 0;
    padding: 0 em(24, 14);
  }
}

// header image, pagename, tabmenu
#header-bottom-left {
  position: absolute;
  top: em(53, 14);

  height: em(53, 14);

  font-size: em(14, 10);

  // subreddit name
  .pagename {
    margin: 0;
    font-size: em(16, 14);

    a {
      position: relative;

      display: inline-block;
      height: em(53, 16);
      padding: 0 em(24, 16);

      color: $light-secondary-text;
      font-variant: normal;
      line-height: em(53, 16);
      text-transform: lowercase;

      @include transition-default;

      &:hover {
        color: $light-text;
        text-decoration: none;
      }
    }
  }

  // tabmenu
  .tabmenu {
    position: absolute;
    left: 0;
    top: em(106, 14); // #header height - #header-bottom-left height - tabmenu height

    height: em(64, 14);
    margin-top: 0;
    padding-left: em(16, 16);

    font-size: inherit;
    line-height: em(64, 14);

    li.selected a {
      border-bottom-color: $accent;
      @include border-width(0 0 em(2, 14) 0);
    }

    li {
      margin: 0;

      &:hover a {
        color: $light-text;

        &:after {
          border-bottom: em(2, 14) solid $accent;
        }
      }

      a {
        // font-size: 0;
        @include tabs;

        // hides "rising", "controversial", "ads", and "gilded" tabs
        &[href$="/rising/"],
        &[href$="/controversial/"],
        &[href$="/ads/"],
        &[href$="/gilded/"] {
          display: none;
        }
      }
    }
  }
}

// snooface
#header-img,
#header-img.default-header {
  height: em(53, 14);
  width: 0;

  margin: 0;
  padding-right: em(131, 14); // makes space for "reddit" text

  background: url(%%snoo-color%%) no-repeat;
  @include transition-default;
}

// positioning fix for when reddit pushes custom banner image
// #header-img-a {
//
//   ~ .pagename {
//     display: inline-block;
//     line-height: em(60, 14); // since font-size is 0
//   }
//
//   ~ .tabmenu {
//     display: inline-block;
//     height: em(65, 14);
//   }
// }

// @media (min-width: $screen-xs-min) {
//   #header-bottom-left {
//
//     .tabmenu li {
//
//       &:hover a,
//       &:hover a[href$="/flattishexperimental/"],
//       &:hover a[href$="/new/"],
//       &:hover a[href$="/top/"],
//       &:hover a[href$="/wiki/"] {
//         color: $light-text;
//         border-bottom: em(2, 16) solid $accent;
//       }
//
//       #viewImagesButton {
//
//         &:after {
//           content: "vi";
//           font-size: initial;
//           @include tabs;
//         }
//
//         &:hover:after {
//           color: $light-text;
//         }
//       }
//
//       a[href$="/flattishexperimental/"],
//       a[href$="/new/"],
//       a[href$="/top/"],
//       a[href$="/wiki/"] {
//         color: $light-secondary-text;
//         font-size: 1em;
//
//         &:after {
//           display: none;
//         }
//       }
//     }
//   }
// }
//
// @media (min-width: $screen-sm-min) {
//   #header-bottom-left {
//     // left: 0;
//
//     // why do i need to nest IDs???
//     #header-img {
//       // makes space for "reddit" text
//       padding-right: em(131, 16);
//
//       &:after {
//         @include reddit;
//       }
//
//       &:hover:after {
//         color: $light-text;
//       }
//     }
//
//     // fix for when reddit pushes a different header image
//     #header-img-a {
//
//       &:after {
//         @include reddit;
//       }
//
//       &:hover:after {
//         color: $light-text;
//       }
//     }
//
//     .tabmenu li {
//
//       a[href$="/flattishexperimental/"],
//       a[href$="/new/"],
//       a[href$="/top/"],
//       a[href$="/wiki/"],
//       #viewImagesButton {
//         @include tab-button;
//       }
//
//       @each $tab-button, $right-margin in (flattishexperimental: em(39, 16), new: em(46, 16), top: em(39, 16), wiki: em(43, 16)) {
//         a[href$="/#{$tab-button}/"] {
//           @include margin(null $right-margin null em(16, 16));
//         }
//       }
//
//       @each $tab-button, $width in (flattishexperimental: em(23, 16), new: em(30, 16), top: em(23, 16), wiki: em(27, 16)) {
//         a[href$="/#{$tab-button}/"]:hover {
//           width: $width;
//         }
//       }
//
//       #viewImagesButton {
//         @include margin(null em(129, 16) null em(16, 16));
//
//         &:hover {
//           width: em(113, 16);
//         }
//
//         &::after {
//           display: none;
//         }
//       }
//
//       &:hover a {
//         color: $light-text;
//         border-bottom: em(2, 16) solid $accent;
//       }
//
//       a {
//         color: $light-secondary-text;
//         font-size: 1em;
//
//         &:after {
//           display: none;
//         }
//       }
//     }
//   }
// }