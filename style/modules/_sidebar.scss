@import "../_utils/vars";
@import "../components/cards";
@import "../components/buttons";

.side,
.side * {
	@include transition;
}

// hide sidebar items
.side * {
	background-color: transparent;
	opacity: 0;
	@include transform(scaleX(0));
}

.side {
	height: 0;
	width: 0;
	background-color: $light-cards;

	// kebab menu
	&:before {
    content: "";
    display: block;
    height: em(36, 10);
    width: em(36, 10) + 1.5em;
    opacity: 0.25;
    position: fixed;
    right: 0;
    top: em(215, 10);
    background: url(%%kebab%%) no-repeat;
		@include transition;
	}

	&:hover {
		height: 100%;
		width: em(300, 10);
		@include card;
		margin-left: 0;
		
		// show hidden sidebar items
		* {
			opacity: 1;
			@include transform(scaleX(1));
		}

		// make kebab disappear on hover
		&:before {
			opacity: 0;
		}
	}

	// search
	#search {
		
		// search bar
		input[type="text"] {
			color: $light-text;
			font-family: $font-stack;
			@include border-width(0 0 em(1, 13) 0);
			@include border-color(null null $light-secondary-text null);
			
			// style placeholder text
			&::-webkit-input-placeholder {
	   		color: transparent;
			}

			&:-moz-placeholder {
			   color: transparent;  
			}

			&::-moz-placeholder {
			   color: transparent;  
			}

			&:-ms-input-placeholder {
			   color: transparent;  
			}

			&:focus {
				border-bottom: em(1, 13) solid $accent;
			}
		}
		
		// magnifying glass icon
		input[type="submit"] {
			height: 1em;
			width: 1em;
			opacity: 0.54;
			position: relative;
			@include background(url("%%search%%") no-repeat);

			&:hover {
				opacity: 0.87;
			}
		}
		
		// label
		&:before {
			content: "search";
			color: transparent;
			font-size: em(13, 10);
			top: 0;
			left: 0;
			margin: em(7, 13) 0 0 em(10, 13);
			position: absolute;
			@include transition(all 0.2s ease);
		}

		&:hover {
			
			// label hover behavior
			&:before {
				color: $accent;
				margin: 0;
				top: em(-15, 13);
				left: em(-4, 13);
		    @include transform(scale(0.85));
			}
		}
	}

	.submit{

		.morelink {
			background: none;

			a {
				color: $light-icons;
				font-size: em(16, 15);
				font-weight: normal;
				letter-spacing: normal;
				text-transform: lowercase;

				&:hover {
					color: inherit;
				}
			}
		}

		.nub {
			display: none;
		}
	}
}

@media (min-width: $screen-md-min) {
	.side {
		height: 100%;
		width: em(300, 10);
		// width: 100%;
		@include animate-card;
		margin-left: 0;

		* {
			opacity: 1;
			@include transform(scaleX(1));
		}

		&:before {
			display: none;
		}
	}
}