@import "../_utils/vars";
@import "../_utils/mixins";
@import "../components/cards";
@import "../components/buttons";

.side,
.side * {
	@include transition;
}

// hide sidebar items
.side * {
	background-color: transparent;
	opacity: 0;
}

.side {
	background-color: transparent;
	height: 0;
	width: 0;
	margin-top: em(204, 10);
	margin-right: 1.5em;

	.spacer {
		margin: 0 0 em(15, 10);

		&:first-of-type {
			position: absolute;
			top: em(215, 10);
			right: 0;
			height: 0;
			width: 0;
		}
	}

	.sidecontentbox,
	.titlebox,
	#moderation_tools,
	.spacer:first-of-type {
		@include animate-card;
	}

	.sidecontentbox,
	.titlebox,
	#moderation_tools {
		font-size: 100%;
		margin: 0;
	}

	// kebab menu
	&:before {
    content: "";
    display: block;
    height: em(36, 10);
    width: em(36, 10) + 1.5em;
    opacity: 0.25;
    position: fixed;
    right: 0;
    top: em(215, 10);
    background: url(%%kebab%%) no-repeat;
		@include transition;
	}

	&:hover {
		height: 100%;
		width: em(330, 10);
		margin-left: 0;
		
		// show hidden sidebar items
		* {
			opacity: 1;
		}

		// make kebab disappear on hover
		&:before {
			opacity: 0;
		}

		// change width of submit buttons on sidebar hover
		.submit-link,
		.submit-text {
			width: em(300, 10);
		}

		// change width of first card (containing search and submit) on sidebar hover
		.spacer:first-of-type {
			width: em(300, 10);
			height: em(173, 10);
		}
	}

	// search
	@import "sidebar/search";
	
	// submit buttons
	@import "sidebar/submit";

	// hide create subreddit button
	.sidebox.create {
		display: none;
	}
}

@media (min-width: $screen-md-min) {
	.side {
		height: 100%;
		width: em(330, 10);

		* {
			opacity: 1;
		}

		&:before {
			display: none;
		}

		.spacer:first-of-type {
			// @include animate-card;
			position: absolute;
			top: em(215, 10);
			right: 0;
			width: em(300, 10);
			height: em(173, 10);
		}

		#search,
		.submit {
			width: 30em;
		}
	}
}